body { font-family: sans-serif; margin:0; background:#222; color:#eee; }
#top-panel { background:#444; padding:10px; display:flex; flex-direction:column; gap:6px; }
#controls { display:flex; align-items:center; gap:6px; }
#banners { display:flex; justify-content:space-between; }
.side-banner { padding:2px 8px; }
.side-banner.heroes { border:2px solid #0ff; }
.side-banner.monsters { border:2px solid #f60; }
#mission-panel { border:2px solid #909; padding:4px; text-align:center; }
#mission-title { font-weight:bold; }
#arena { display:flex; justify-content:center; margin:20px; }
#map { position:relative; display:grid; }
.map.no-grid .tile { border:none; }
.tile { width:64px; height:64px; border:1px solid #444; display:flex; align-items:center; justify-content:center; }
.tile.plain { background:#222; color:#555; }
.tile.obstacle { background:#555; }
.tile.hazard_poison { background:#505; }
.tile.shrine { background:#030; color:#0f0; }
.tile.enemy_shrine { background:#400; }
.char { text-align:center; position:absolute; border:2px solid transparent; transition:top 0.3s,left 0.3s; }
.char.hero { border-color:#0ff; background-image:repeating-linear-gradient(45deg,rgba(255,255,255,0.1)0 2px,transparent 2px 4px); }
.char.monster { border-color:#f60; background-image:repeating-linear-gradient(135deg,rgba(255,255,255,0.1)0 4px,transparent 4px 8px); }
.char.objective { border-color:#f00; }
.char .badge { position:absolute; top:0; left:0; font-size:12px; background:rgba(0,0,0,0.5); padding:0 2px; }
.char .icon { font-size:64px; }
.hp-bar { width:60px; height:10px; background:#555; margin-top:4px; }
.hp { background:#0f0; height:100%; }
.dead .icon { opacity:0.4; }
.status-icons { height:20px; margin-top:4px; }
.status-icons span { margin:0 2px; }
.has-shield { border-color:#0ff; }
#initiative { display:flex; justify-content:center; margin:10px; }
#initiative .turn { font-size:32px; margin:0 4px; opacity:0.4; }
#initiative .turn.active { opacity:1; }
#log { height:150px; overflow:auto; border-top:1px solid #555; padding:10px; background:#111; font-size:14px; }
.log-damage { color:#f33; }
.log-heal { color:#3f3; }
.log-death { color:#999; }
.log-buff { color:#6cf; }
.log-debuff { color:#f6a; }
.flash { animation:flash 0.3s; }
@keyframes flash { from { background:rgba(255,0,0,0.5); } to { background:transparent; } }
.char.trap { animation:trapflash 0.3s; }
@keyframes trapflash { from { background:rgba(255,0,0,0.5); } to { background:transparent; } }
.char.shrine { animation:shrineflash 0.3s; }
@keyframes shrineflash { from { background:rgba(0,255,0,0.5); } to { background:transparent; } }
.shield-effect { position:absolute; left:0; top:0; right:0; bottom:0; display:flex; align-items:center; justify-content:center; animation:shieldfade 0.3s forwards; }
@keyframes shieldfade { from { opacity:1; } to { opacity:0; } }
.ability-banner { position:fixed; top:30%; left:50%; transform:translate(-50%,-50%); background:#333; padding:20px; font-size:24px; border:2px solid #fff; }
#banner { position:fixed; top:40%; left:50%; transform:translate(-50%,-50%); background:#333; padding:20px; font-size:24px; border:2px solid #fff; }
